!function(t){var e={};function i(n){if(e[n])return e[n].exports;var s=e[n]={i:n,l:!1,exports:{}};return t[n].call(s.exports,s,s.exports,i),s.l=!0,s.exports}i.m=t,i.c=e,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)i.d(n,s,function(e){return t[e]}.bind(null,s));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/dist/",i(i.s=2)}([function(t,e){},function(t,e,i){},function(t,e,i){"use strict";i.r(e);i(1),i(0);function n(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var s=function(){function t(e,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.fn=e,this.t=i,this.timerObj=setInterval(this.fn,this.t)}var e,i,s;return e=t,(i=[{key:"stop",value:function(){return this.timerObj&&(clearInterval(this.timerObj),this.timerObj=null),this}},{key:"start",value:function(){return this.timerObj||(this.timerObj=setInterval(this.fn,this.t)),this}},{key:"reset",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.t;return this.t=t,this.stop().start()}}])&&n(e.prototype,i),s&&n(e,s),t}();function o(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var r=function(){function t(e,i,n,s,o,r,l,a){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.randomPoint=this.randomPoint.bind(this),this.right_limit=n,this.left_limit=s,this.lower_limit=r,this.upper_limit=o,this.player_x=l,this.player_y=a,this.move=this.move.bind(this),e&&i)this.left=e,this.top=i;else{var h=this.randomPoint();this.left=h.x,this.top=h.y}this.makeObstacle()}var e,i,n;return e=t,(i=[{key:"makeObstacle",value:function(){this.new_obstacle=document.createElement("div"),this.new_obstacle.classList.add("hater"),this.new_obstacle.style.position="relative",this.new_obstacle.style.left=this.left+"px",this.new_obstacle.style.top=this.top+"px",document.getElementById("board").appendChild(this.new_obstacle)}},{key:"randomPoint",value:function(){var t=0,e=0;for(t=Math.random()*(this.right_limit-this.left_limit)+this.left_limit,e=Math.random()*(this.lower_limit-this.upper_limit)+this.upper_limit;Math.abs(t-this.player_x)<200||Math.abs(e-this.player_y)<200;)t=Math.random()*(this.right_limit-this.left_limit)+this.left_limit,e=Math.random()*(this.lower_limit-this.upper_limit);return{x:t,y:e}}},{key:"move",value:function(t,e,i){if(!i){if(this.left<t+10){var n=parseInt(this.new_obstacle.style.left.split("px")[0]);n+=2,this.left=n,this.new_obstacle.style.left=this.left+"px"}if(this.left>t+10){var s=parseInt(this.new_obstacle.style.left.split("px")[0]);s-=2,this.left=s,this.new_obstacle.style.left=this.left+"px"}if(this.top<e-10){var o=parseInt(this.new_obstacle.style.top.split("px")[0]);o+=2,this.top=o,this.new_obstacle.style.top=this.top+"px"}if(this.top>e-10){var r=parseInt(this.new_obstacle.style.top.split("px")[0]);r-=2,this.top=r,this.new_obstacle.style.top=this.top+"px"}}}}])&&o(e.prototype,i),n&&o(e,n),t}();function l(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var a=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.increase_teleportation_meter=this.increase_teleportation_meter.bind(this),this.increaseScore=this.increaseScore.bind(this),this.getClickPosition=this.getClickPosition.bind(this),this.countUp=this.countUp.bind(this),this.paused=!0,this.haters=[],this.increaseScore=this.increaseScore.bind(this),this.start=this.start.bind(this),this.haterCheck=this.haterCheck.bind(this),this.moveHaters=this.moveHaters.bind(this),this.run_times=0,this.meter=document.getElementById("teleportation_meter"),this.lost=!1,this.board=document.getElementById("board"),this.theThing=document.getElementById("jae"),this.score=document.getElementById("scoreboard"),this.score_num=0,this.teleportation_meter=!1}var e,i,n;return e=t,(i=[{key:"increase_teleportation_meter",value:function(){var t=this.meter.style.width,e=parseInt(t.split("px")[0])+100;e<=300&&(this.meter.style.width=e+"px");var i=this.meter.style.width;parseInt(i.split("px")[0])>=300&&this.timer.stop()}},{key:"countUp",value:function(){this.counter=setInterval(this.increaseScore,10)}},{key:"increaseScore",value:function(){if(this.haterCheck()&&(this.lost=!0),!this.lost&&!this.paused){this.score_num+=1;var t=document.createTextNode(this.score_num);0!==this.score.childNodes.length&&this.score.removeChild(this.score.childNodes[0]),this.score.appendChild(t)}if(this.lost){this.stop(),clearInterval(this.counter);var e=document.getElementById("lost-modal-background"),i=(document.getElementById("lost-modal-child"),document.getElementById("final-score")),n=document.createTextNode(this.score_num);i.appendChild(n),e.style.display="block"}}},{key:"haterCheck",value:function(){for(var t=parseInt(this.theThing.style.left.split("px")[0]),e=parseInt(this.theThing.style.top.split("px")[0]),i=0;i<this.haters.length;i++)if(t+30<=this.haters[i].left+30&&t+30>=this.haters[i].left-30&&e-37>=this.haters[i].top-30&&e-37<=this.haters[i].top+10)return!0;return!1}},{key:"start",value:function(){var t;this.timer.start(),t="0px"===this.meter.style.width?3e3:"100px"===this.meter.style.width?2e3:"200px"===this.meter.style.width?1e3:0,this.teleportation=setTimeout(this.allow_teleport,t)}},{key:"allow_teleport",value:function(){this.teleportation_meter=!0}},{key:"getClickPosition",value:function(t){if(t.preventDefault(),teleportation_meter){var e=this.getPosition(t.currentTarget),i=t.clientX-e.x-this.theThing.clientWidth/2,n=t.clientY-e.y-this.theThing.clientHeight/2;teleportation_meter=!1,this.theThing.style.left=i+"px",this.theThing.style.top=n+"px",this.meter.style.width="0px";var s=this.board.clientWidth/2,o=this.board.clientHeight/2-this.theThing.clientHeight,l=s+s,a=s-s,h=o-(o+this.theThing.clientHeight),c=o+(o+this.theThing.clientHeight-10);this.haters.push(new r(null,null,l,a,h,c,i,n)),this.start()}}},{key:"getPosition",value:function(t){for(var e=0,i=0;t;){if("BODY"==t.tagName){var n=t.scrollLeft||document.documentElement.scrollLeft,s=t.scrollTop||document.documentElement.scrollTop;e+=t.offsetLeft-n+t.clientLeft,i+=t.offsetTop-s+t.clientTop}else e+=t.offsetLeft-t.scrollLeft+t.clientLeft,i+=t.offsetTop-t.scrollTop+t.clientTop;t=t.offsetParent}return{x:e,y:i}}},{key:"run",value:function(){this.board.addEventListener("click",this.getClickPosition,!1),this.timer=new s(this.increase_teleportation_meter,1e3),this.countUp(),this.start(),0===this.run_times&&(this.haters.push(new r(430,-7)),this.moving=new s(this.moveHaters,30),this.run_times+=1),this.paused=!1}},{key:"stop",value:function(){this.timer.stop(),this.paused=!0,clearInterval(this.counter),clearInterval(this.teleportation)}},{key:"moveHaters",value:function(){var t=this;this.haters.forEach((function(e){e.move(parseInt(t.theThing.style.left.split("px")[0]),parseInt(t.theThing.style.top.split("px")[0]),t.paused)}))}}])&&l(e.prototype,i),n&&l(e,n),t}();document.addEventListener("DOMContentLoaded",(function(){var t=document.getElementById("modal-background"),e=document.getElementById("modal-child"),i=document.getElementById("modal-button"),n=document.getElementById("question");i.addEventListener("click",(function(i){i.preventDefault(),t.style.display="none",e.style.display="none",s.run()})),n.addEventListener("click",(function(i){i.preventDefault(),t.style.display="block",e.style.display="block",s.stop()}));var s=new a;document.getElementById("restart").addEventListener("click",(function(t){t.preventDefault(),o.style.display="none",sessionStorage.setItem("reloading","true"),document.location.reload()}),!1);var o=document.getElementById("lost-modal-background");window.onload=function(){sessionStorage.getItem("reloading")&&(sessionStorage.removeItem("reloading"),document.getElementById("modal-button").click())}}))}]);
//# sourceMappingURL=main.js.map